<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="customer">

	<select id="listAll" resultType="yh.custom.controller.BoardDto">
		select * from QnA order by
		num desc, reg_date desc limit #{start},10 

	</select>
	
	<select id="count"
		resultType="int">
		select count(*) from QnA
	</select>
	
	<insert id="insert" parameterType="yh.custom.controller.BoardDto">
		insert into QnA (num,subject,content,member_id,reg_date,readcount,secret)values(
		#{num},
		#{subject}, #{content}, 'admin123@kitchen.com' ,#{reg_date},#{readcount} ,#{secret}
		)
	</insert>

	<select id="view" resultType="yh.custom.controller.BoardDto">
		select * from QnA where num =
		#{num}
	</select>

	<update id="increaseViewcnt" parameterType="int">
		update QnA set
		readcount = readcount +1 where num = #{num}
	</update>

	<update id="updateArticle">
		update QnA set subject = #{subject}, content =
		#{content}, member_id = 'admin123@kitchen.com',
		reg_date = #{reg_date},secret = #{secret} where num = #{num}
	</update>

	<delete id="deleteArticle">
		delete from QnA where num = #{num}
	</delete>

</mapper>