<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="recipeComment">

<select id="countComment" resultType="int" parameterType="int">
select count(*) from recipe_comment where recipe_id=#{recipe_id}
</select>

<select id="getComment" resultType="yk.user.model.Recipe_CommentDto" parameterType="map">
select * from recipe_comment, members where com_member_id = member_id and recipe_id=#{recipe_id} order by comment_date desc limit #{startNum},#{pageSize}
</select>

<insert id="writeComment" parameterType="yk.user.model.Recipe_CommentDto">
insert into recipe_comment(recipe_id,com_member_id,comment) values(#{recipe_id},#{com_member_id},#{comment})
</insert>

<delete id="deleteComment" parameterType="yk.user.model.Recipe_CommentDto">
delete from recipe_comment where recipe_id=#{recipe_id} and com_member_id=#{com_member_id} and comment_date=#{comment_date}
</delete>

</mapper>